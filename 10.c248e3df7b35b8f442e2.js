(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{W1DU:function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");class a{}var i=e("pMnS"),o=e("NvT6"),s=e("W5yJ"),u=e("/HVE"),r=e("SVse"),b=e("omvX"),c=e("6UMx"),d=e("Q+lL"),p=e("Xd0L"),h=e("AyJq"),g=e("c9fC"),m=e("8bJo"),B=e("5GAg"),f=e("FaHK"),v=e("7xq5"),_=e("6Qg2"),D=e("g2oO"),x=e("92Lm"),w=e("OqwP"),k=e("quSY"),O=e("LAfz");class M{constructor(l,n,e,t,a,i){this._diarioService=l,this._userService=n,this.calculationService=e,this.snackBar=t,this.saldoAbierto=a,this._helperService=i,this.loading=!1,this.loadingDetail=!1,this.saldoActual=0,this._subscriptions=new k.a}ngOnInit(){this.getData()}ngOnDestroy(){this._subscriptions.unsubscribe()}getIngresos(){return this.calculationService.getIngresos(this.convertToNumberArray(this.conceptosTotales))}getEgresos(){return this.calculationService.getEgresos(this.convertToNumberArray(this.conceptosTotales))}getData(){this.loading=!0,this._subscriptions.add(this._diarioService.getConceptosTotalHistorico().subscribe(l=>{this.conceptosTotales=l,this.saldoActual=this.getIngresos()-this.getEgresos(),this.loading=!1},l=>{this.loading=!1,this._helperService.showSnackBarError(this.snackBar,this._helperService.getErrorMessage(l))}))}convertToNumberArray(l){if(void 0!==l){const n=[];return l.forEach((function(l){n.push(l.saldo)})),n}}loadHistoricDetails(l){this.loadingDetail=!0,this.itemDetail=void 0,this._subscriptions.add(this._diarioService.getConceptosMovimHistorico(l.idConcepto).subscribe(l=>{this.itemDetail=l,this.loadingDetail=!1},l=>{this.loadingDetail=!1,this._helperService.showSnackBarError(this.snackBar,this._helperService.getErrorMessage(l))}))}showOpenSaldo(){const l=[],n={title:"Historico",icon:"blur_linear",ingresos:this.getIngresos(),egresos:this.getEgresos(),concept:"historico",date:null};l.push(n),this.saldoAbierto.open(O.a,{width:"500px",data:{saldos:l}})}}var q=e("dFDH"),y=e("s6ns"),C=t.pb({encapsulation:0,styles:[[".header[_ngcontent-%COMP%]{display:table;margin:0 auto;clear:both;width:60%;text-align:center}.column[_ngcontent-%COMP%]{float:left;width:100%}.saldos[_ngcontent-%COMP%]{margin-top:15px}.tableContent[_ngcontent-%COMP%]{display:flex;justify-content:center;position:fixed;width:100%;height:84%;top:16%;overflow-y:scroll;max-block-size:-webkit-fill-available}.conceptos-table[_ngcontent-%COMP%]{width:60%}.mat-expansion-panel-header-description[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.itemDescription[_ngcontent-%COMP%]{float:left;font-size:small}.itemAmount[_ngcontent-%COMP%]{float:right;font-size:small}@media only screen and (max-width:600px){.conceptos-table[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]{width:100%}}"]],data:{}});function S(l){return t.Mb(0,[(l()(),t.rb(0,0,null,null,2,"div",[["class","loading"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["diameter","70"],["mode","indeterminate"],["role","progressbar"],["strokeWidth","5"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,o.b,o.a)),t.qb(2,114688,null,0,s.d,[t.k,u.a,[2,r.e],[2,b.a],s.a],{diameter:[0,"diameter"],strokeWidth:[1,"strokeWidth"]},null)],(function(l,n){l(n,2,0,"70","5")}),(function(l,n){l(n,1,0,t.Db(n,2)._noopAnimations,t.Db(n,2).diameter,t.Db(n,2).diameter)}))}function I(l){return t.Mb(0,[(l()(),t.rb(0,0,null,null,1,"mat-spinner",[["class","loading mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,o.b,o.a)),t.qb(1,114688,null,0,s.d,[t.k,u.a,[2,r.e],[2,b.a],s.a],null,null)],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,t.Db(n,1)._noopAnimations,t.Db(n,1).diameter,t.Db(n,1).diameter)}))}function H(l){return t.Mb(0,[(l()(),t.rb(0,0,null,null,11,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,c.d,c.b)),t.qb(1,1228800,null,3,d.b,[t.k,t.h,[2,d.e],[2,d.a]],null,null),t.Ib(603979776,3,{_lines:1}),t.Ib(603979776,4,{_avatar:0}),t.Ib(603979776,5,{_icon:0}),(l()(),t.rb(5,0,null,1,6,"div",[["class","mat-line"],["matLine",""]],null,null,null,null,null)),t.qb(6,16384,[[3,4]],0,p.m,[],null,null),(l()(),t.rb(7,0,null,null,1,"p",[["class","itemDescription"]],null,null,null,null,null)),(l()(),t.Kb(8,null,["",""])),(l()(),t.rb(9,0,null,null,2,"p",[["class","itemAmount"]],[[2,"importeNegativo",null]],null,null,null,null)),(l()(),t.Kb(10,null,["",""])),t.Gb(11,2)],null,(function(l,n){var e=n.component;l(n,0,0,t.Db(n,1)._avatar||t.Db(n,1)._icon,t.Db(n,1)._avatar||t.Db(n,1)._icon),l(n,8,0,n.context.$implicit.anio),l(n,9,0,n.context.$implicit.importe<0);var a=t.Lb(n,10,0,l(n,11,0,t.Db(n.parent.parent.parent.parent,0),n.context.$implicit.importe,e._userService.userCurrency));l(n,10,0,a)}))}function P(l){return t.Mb(0,[(l()(),t.rb(0,0,null,null,3,"mat-list",[["class","mat-list mat-list-base"]],null,null,null,c.e,c.a)),t.qb(1,704512,null,0,d.a,[t.k],null,null),(l()(),t.hb(16777216,null,0,1,null,H)),t.qb(3,278528,null,0,r.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,3,0,n.component.itemDetail)}),null)}function A(l){return t.Mb(0,[(l()(),t.rb(0,16777216,null,null,18,"mat-expansion-panel",[["class","mat-expansion-panel"]],[[2,"mat-expanded",null],[2,"_mat-animation-noopable",null],[2,"mat-expansion-panel-spacing",null]],[[null,"opened"]],(function(l,n,e){var t=!0;return"opened"===n&&(t=!1!==l.component.loadHistoricDetails(l.context.$implicit)&&t),t}),h.d,h.a)),t.qb(1,1753088,null,1,g.e,[[3,g.a],t.h,m.d,t.O,r.e,[2,b.a],[2,g.b]],null,{opened:"opened"}),t.Ib(603979776,2,{_lazyContent:0}),t.Hb(256,null,g.a,void 0,[]),(l()(),t.rb(4,0,null,0,10,"mat-expansion-panel-header",[["class","mat-expansion-panel-header"],["role","button"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0],[2,"mat-expanded",null],[2,"mat-expansion-toggle-indicator-after",null],[2,"mat-expansion-toggle-indicator-before",null],[40,"@.disabled",0],[40,"@expansionHeight",0]],[[null,"click"],[null,"keydown"],["component","@expansionHeight.start"]],(function(l,n,e){var a=!0;return"click"===n&&(a=!1!==t.Db(l,5)._toggle()&&a),"keydown"===n&&(a=!1!==t.Db(l,5)._keydown(e)&&a),"component:@expansionHeight.start"===n&&(a=!1!==t.Db(l,5)._animationStarted()&&a),a}),h.c,h.b)),t.qb(5,180224,[[1,4]],0,g.g,[g.e,t.k,B.h,t.h,[2,g.b]],null,null),t.Fb(6,{collapsedHeight:0,expandedHeight:1}),t.Fb(7,{value:0,params:1}),(l()(),t.rb(8,0,null,0,2,"mat-panel-title",[["class","mat-expansion-panel-header-title"]],null,null,null,null,null)),t.qb(9,16384,null,0,g.h,[],null,null),(l()(),t.Kb(10,null,[" "," "])),(l()(),t.rb(11,0,null,1,3,"mat-panel-description",[["class","mat-expansion-panel-header-description"]],[[2,"importeNegativo",null]],null,null,null,null)),t.qb(12,16384,null,0,g.f,[],null,null),(l()(),t.Kb(13,null,[" "," "])),t.Gb(14,2),(l()(),t.hb(16777216,null,1,1,null,I)),t.qb(16,16384,null,0,r.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,1,1,null,P)),t.qb(18,16384,null,0,r.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(0,null,null,0))],(function(l,n){var e=n.component;l(n,16,0,e.loadingDetail),l(n,18,0,!e.loadingDetail)}),(function(l,n){var e=n.component;l(n,0,0,t.Db(n,1).expanded,"NoopAnimations"===t.Db(n,1)._animationMode,t.Db(n,1)._hasSpacing());var a=t.Db(n,5).panel._headerId,i=t.Db(n,5).disabled?-1:0,o=t.Db(n,5)._getPanelId(),s=t.Db(n,5)._isExpanded(),u=t.Db(n,5).panel.disabled,r=t.Db(n,5)._isExpanded(),b="after"===t.Db(n,5)._getTogglePosition(),c="before"===t.Db(n,5)._getTogglePosition(),d=t.Db(n,5)._animationsDisabled,p=l(n,7,0,t.Db(n,5)._getExpandedState(),l(n,6,0,t.Db(n,5).collapsedHeight,t.Db(n,5).expandedHeight));l(n,4,0,a,i,o,s,u,r,b,c,d,p),l(n,10,0,n.context.$implicit.descripcion),l(n,11,0,n.context.$implicit.saldo<0);var h=t.Lb(n,13,0,l(n,14,0,t.Db(n.parent.parent,0),n.context.$implicit.saldo,e._userService.userCurrency));l(n,13,0,h)}))}function E(l){return t.Mb(0,[(l()(),t.rb(0,0,null,null,11,"div",[],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,3,"div",[["class","header"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,2,"div",[["class","column saldos"]],null,null,null,null,null)),(l()(),t.rb(3,0,null,null,1,"app-saldo",[["class","saldos"]],null,[[null,"saldoClicked"]],(function(l,n,e){var t=!0;return"saldoClicked"===n&&(t=!1!==l.component.showOpenSaldo()&&t),t}),f.b,f.a)),t.qb(4,114688,null,0,v.a,[_.a],{titulo:[0,"titulo"],saldo:[1,"saldo"]},{saldoClicked:"saldoClicked"}),(l()(),t.rb(5,0,null,null,6,"div",[["class","tableContent"]],null,null,null,null,null)),(l()(),t.rb(6,0,null,null,5,"mat-accordion",[["class","conceptos-table mat-accordion"]],null,null,null,null,null)),t.Hb(6144,null,g.a,null,[g.c]),t.qb(8,1720320,null,1,g.c,[],null,null),t.Ib(603979776,1,{_headers:1}),(l()(),t.hb(16777216,null,null,1,null,A)),t.qb(11,278528,null,0,r.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,4,0,"Saldo Historico",e.saldoActual),l(n,11,0,e.conceptosTotales)}),null)}function L(l){return t.Mb(0,[t.Eb(0,r.d,[t.t]),(l()(),t.hb(16777216,null,null,1,null,S)),t.qb(2,16384,null,0,r.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,null,1,null,E)),t.qb(4,16384,null,0,r.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,e.loading),l(n,4,0,!e.loading)}),null)}function j(l){return t.Mb(0,[(l()(),t.rb(0,0,null,null,1,"app-historico",[],null,null,null,L,C)),t.qb(1,245760,null,0,M,[D.a,_.a,w.a,q.b,y.e,x.a],null,null)],(function(l,n){l(n,1,0)}),null)}var T=t.nb("app-historico",M,j,{},{},[]),F=e("t68o"),N=e("xYTU"),z=e("zbXB"),J=e("NcP4"),K=e("R0Rt"),W=e("QQfA"),$=e("IP0z"),G=e("/Co4"),Q=e("s7LF"),V=e("POq0"),Z=e("JjoW"),R=e("cUpR"),U=e("821u"),X=e("Mz6y"),Y=e("iInd");class ll{}var nl=e("kNGD"),el=e("zMNK"),tl=e("hOhj"),al=e("igqZ"),il=e("02hT"),ol=e("Gi4r"),sl=e("zQui"),ul=e("8rEH"),rl=e("HsOI"),bl=e("elxJ"),cl=e("Fwaw"),dl=e("mkRZ"),pl=e("KPQW"),hl=e("oapL"),gl=e("ZwOa"),ml=e("pBi1"),Bl=e("BV1i"),fl=e("5Bek"),vl=e("FVPZ"),_l=e("rWV4"),Dl=e("r15G"),xl=e("dvZr");e.d(n,"HistoricoModuleNgFactory",(function(){return wl}));var wl=t.ob(a,[],(function(l){return t.Ab([t.Bb(512,t.j,t.ab,[[8,[i.a,T,F.a,N.a,N.b,z.b,z.a,J.a,K.a]],[3,t.j],t.w]),t.Bb(4608,r.o,r.n,[t.t,[2,r.C]]),t.Bb(4608,p.b,p.b,[]),t.Bb(4608,W.c,W.c,[W.i,W.e,t.j,W.h,W.f,t.q,t.y,r.e,$.b,[2,r.i]]),t.Bb(5120,W.j,W.k,[W.c]),t.Bb(5120,y.c,y.d,[W.c]),t.Bb(135680,y.e,y.e,[W.c,t.q,[2,r.i],[2,y.b],y.c,[3,y.e],W.e]),t.Bb(5120,G.b,G.c,[W.c]),t.Bb(4608,Q.v,Q.v,[]),t.Bb(4608,Q.e,Q.e,[]),t.Bb(4608,V.c,V.c,[]),t.Bb(4608,p.a,p.x,[[2,p.f],u.a]),t.Bb(5120,Z.a,Z.b,[W.c]),t.Bb(4608,R.e,p.c,[[2,p.g],[2,p.l]]),t.Bb(4608,U.i,U.i,[]),t.Bb(5120,U.a,U.b,[W.c]),t.Bb(5120,X.b,X.c,[W.c]),t.Bb(1073742336,r.c,r.c,[]),t.Bb(1073742336,Y.n,Y.n,[[2,Y.s],[2,Y.l]]),t.Bb(1073742336,ll,ll,[]),t.Bb(1073742336,nl.f,nl.f,[]),t.Bb(1073742336,$.a,$.a,[]),t.Bb(1073742336,el.g,el.g,[]),t.Bb(1073742336,u.b,u.b,[]),t.Bb(1073742336,tl.c,tl.c,[]),t.Bb(1073742336,W.g,W.g,[]),t.Bb(1073742336,p.l,p.l,[[2,p.d],[2,R.f]]),t.Bb(1073742336,y.k,y.k,[]),t.Bb(1073742336,al.d,al.d,[]),t.Bb(1073742336,p.w,p.w,[]),t.Bb(1073742336,p.u,p.u,[]),t.Bb(1073742336,p.r,p.r,[]),t.Bb(1073742336,G.e,G.e,[]),t.Bb(1073742336,p.n,p.n,[]),t.Bb(1073742336,il.b,il.b,[]),t.Bb(1073742336,d.c,d.c,[]),t.Bb(1073742336,ol.c,ol.c,[]),t.Bb(1073742336,sl.p,sl.p,[]),t.Bb(1073742336,ul.l,ul.l,[]),t.Bb(1073742336,Q.u,Q.u,[]),t.Bb(1073742336,Q.j,Q.j,[]),t.Bb(1073742336,Q.s,Q.s,[]),t.Bb(1073742336,V.d,V.d,[]),t.Bb(1073742336,rl.d,rl.d,[]),t.Bb(1073742336,bl.d,bl.d,[]),t.Bb(1073742336,cl.c,cl.c,[]),t.Bb(1073742336,s.c,s.c,[]),t.Bb(1073742336,dl.a,dl.a,[]),t.Bb(1073742336,B.a,B.a,[]),t.Bb(1073742336,pl.a,pl.a,[]),t.Bb(1073742336,p.y,p.y,[]),t.Bb(1073742336,p.o,p.o,[]),t.Bb(1073742336,hl.c,hl.c,[]),t.Bb(1073742336,gl.c,gl.c,[]),t.Bb(1073742336,Z.d,Z.d,[]),t.Bb(1073742336,ml.b,ml.b,[]),t.Bb(1073742336,ml.a,ml.a,[]),t.Bb(1073742336,Bl.h,Bl.h,[]),t.Bb(1073742336,fl.c,fl.c,[]),t.Bb(1073742336,g.d,g.d,[]),t.Bb(1073742336,vl.a,vl.a,[]),t.Bb(1073742336,_l.a,_l.a,[]),t.Bb(1073742336,q.e,q.e,[]),t.Bb(1073742336,U.j,U.j,[]),t.Bb(1073742336,X.e,X.e,[]),t.Bb(1073742336,Dl.a,Dl.a,[]),t.Bb(1073742336,a,a,[]),t.Bb(1024,Y.j,(function(){return[[{path:"",component:M}]]}),[]),t.Bb(256,nl.a,{separatorKeyCodes:[xl.g]},[]),t.Bb(256,p.e,p.i,[])])}))}}]);